# Changelog

Все важные изменения в проекте sova-cabinet будут документироваться в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и проект следует [Semantic Versioning](https://semver.org/lang/ru/).

## [1.0.0] - 2025-07-13

### Добавлено
- **Система автозаданий с планировщиком APScheduler**
  - Автоматическое обновление статуса ключей
  - Синхронизация ключей с внешней базой данных
  - Уведомления пользователей о сроке действия подписок
  - Ежедневные отчеты с метриками и отправкой в Telegram
- **Веб-интерфейс для управления автозаданиями**
  - Настройка временных интервалов (минуты, часы)
  - Настройка cron-заданий (день, час, минута)
  - Включение/выключение заданий
  - Автозапуск при старте приложения
- **Персонализированные отчеты**
  - Настройка номеров телефонов для отправки
  - Персонализированные приветствия
  - Выбор данных для включения в отчет (активации, продления, общая сумма, курс USD, цена Bitcoin)
- **Сохранение и восстановление конфигурации**
  - Автоматическое сохранение настроек в `scheduler_config.json`
  - Загрузка конфигурации при старте приложения
  - Сохранение всех параметров: интервалы, cron, автозапуск, телефоны, приветствия, данные
- **Модуль управления ключами**
  - Поиск и фильтрация ключей
  - Управление статусами ключей
  - Диагностика и мониторинг
- **Система ролей пользователей**
  - Администратор
  - Партнёр
  - Менеджер
  - Супервайзер
  - Клиент
- **API для интеграции**
  - RESTful API для всех основных операций
  - Документация API
- **Безопасность**
  - Аутентификация и авторизация
  - Защита от CSRF
  - Валидация данных
- **Логирование**
  - Подробные логи всех операций
  - Логи планировщика
  - Логи ошибок

### Изменено
- Переименование проекта в **sova-cabinet**
- Обновление всей документации под новое название
- Реорганизация структуры проекта

### Исправлено
- Ошибки сериализации JSON в планировщике
- Проблемы с импортами модулей
- Конфликты маршрутов

### Технические детали
- **Flask** - веб-фреймворк
- **APScheduler** - планировщик задач
- **SQLAlchemy** - ORM для работы с базой данных
- **Alembic** - миграции базы данных
- **Telegram Bot API** - отправка уведомлений
- **Bootstrap** - UI фреймворк

### Файлы конфигурации
- `scheduler_config.json` - настройки планировщика
- `config.py` - основная конфигурация
- `.env` - переменные окружения

### Запуск
```bash
python3 cabinet.py
```

Приложение доступно по адресу: http://localhost:5023 